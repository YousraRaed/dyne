import{a as gi,c as vi,d as _i}from"./chunk-STV53YG2.js";import{a as Tt,b as Dt,c as Ot}from"./chunk-QB3V3KC3.js";import{b as Ye,c as Rt,d as Je}from"./chunk-ECZQLQQL.js";import{a as wi}from"./chunk-2MY7RGQ6.js";import{c as yi,d as bi,e as Ii,f as jt,g as Pt,j as Ci}from"./chunk-O62AUNJF.js";import{$ as nt,B as ii,C as ni,D as oi,E as ai,F as ri,I as ci,J as si,K as M,L as z,M as mt,N as Mt,O as di,P as li,Q as hi,R as pi,S as mi,T as ut,U as Ft,V as ui,W as A,Z as fi,_ as F,a as it,b as Ke,c as We,d as At,e as Ze,g as Xe,x as ne,y as ti,z as ei}from"./chunk-E55XPUGU.js";import{f as xi,g as ft,h as Nt,m as Ei,n as Bt,p as Si,u as ki}from"./chunk-AGBMNDHT.js";import"./chunk-WXI33M2S.js";import{Ab as He,B as X,Bb as W,C as B,Cb as Ve,Db as $e,E as k,Eb as qe,F as Xt,G as Se,I as yt,Ia as J,J as ke,L as Ae,Mb as Ge,N as Re,Na as V,Oa as tt,Pa as Be,Q as Yt,Ra as Le,T as Me,Ta as wt,V as Fe,Va as xt,W as Te,Wa as Q,X as De,Z as st,Zb as Et,_ as bt,a as v,aa as It,ac as St,b,ba as Oe,ca as _,cc as Ue,da as dt,db as ht,dc as Qe,fa as x,fb as K,fc as kt,g as ct,ha as l,ia as T,j as be,jb as j,ka as je,kb as D,l as Ie,lb as pt,m as Ce,ma as U,mb as ze,n as _t,na as lt,o as we,ob as te,pa as Y,q as S,qb as ee,r as xe,u as Ee,v as C,va as Pe,wa as Ne,x as L,xa as Jt,yb as et,za as Ct,zb as ie}from"./chunk-SJ7RQTWP.js";var An=new x("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var Ai=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=dt({providers:[ti,{provide:An,useValue:{separatorKeyCodes:[13]}}],imports:[ne,ei,ne]});let e=t;return e})();var Mn=e=>({"background-image":e});function Fn(e,t){if(e&1&&(j(0,"div",5),et(1),D()),e&2){let o=t.$implicit;V(),He(" ",o," ")}}var Ri=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=U({type:t,selectors:[["app-restaurant"]],inputs:{restaurant:"restaurant"},standalone:!0,features:[W],decls:8,vars:5,consts:[[1,"restaurant-card"],[1,"card-image","darken",3,"ngStyle"],[1,"restaurant-name"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"]],template:function(n,a){n&1&&(j(0,"mat-card",0)(1,"div",1)(2,"div")(3,"div",2),et(4),D(),j(5,"mat-card-content")(6,"div",3),ht(7,Fn,2,1,"div",4),D()()()()()),n&2&&(V(),K("ngStyle",Ve(3,Mn,"url("+((a.restaurant==null?null:a.restaurant.restaurantBackground)||(a.restaurant==null?null:a.restaurant.background))+")")),V(3),ie(a.restaurant==null?null:a.restaurant.name),V(3),K("ngForOf",a.restaurant==null?null:a.restaurant.tags))},dependencies:[kt,St,Ue,ci,ai,ri,Ai],styles:[".restaurant-card[_ngcontent-%COMP%]{width:100%;min-width:163px;margin:3px 3px 15px;display:flex;flex-direction:column}.restaurant-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding:0}.card-image[_ngcontent-%COMP%]{height:263px;background-size:cover;background-position:center;position:relative;display:flex;align-items:flex-end;padding:16px;border-radius:5px}.card-image.darken[_ngcontent-%COMP%]{filter:brightness(.8)}.restaurant-name[_ngcontent-%COMP%]{font-family:Inter-Meduim;font-size:16px;line-height:19.36px;text-align:left;color:#fff}mat-card-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.tags[_ngcontent-%COMP%]{display:flex}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-family:Inter-Regular;font-size:11px;line-height:13.31px;text-align:left;border:1px solid white;background-color:#fff;margin-right:8px;border-radius:5px;padding:3px}"],changeDetection:0});let e=t;return e})();function Dn(e,t){if(e&1){let o=ze();j(0,"app-restaurant",6),te("click",function(){let n=Pe(o).$implicit,a=ee();return Ne(a.goToMenu(n))}),D()}if(e&2){let o=t.$implicit;K("restaurant",o)}}var Mi=(()=>{let t=class t{constructor(i,n){this.store=i,this.router=n}ngOnInit(){this.restaurants$=this.store.select(gi),this.loading$=this.store.select(vi),this.error$=this.store.select(_i)}goToMenu(i){i.id&&this.router.navigate(["/menu",i.id])}};t.\u0275fac=function(n){return new(n||t)(tt(A),tt(Rt))},t.\u0275cmp=U({type:t,selectors:[["app-home"]],standalone:!0,features:[W],decls:9,vars:3,consts:[[1,"home-container"],["color","primary"],[1,"spacer"],["src","./assets/menu.png","alt","Menu",1,"menu-image"],[1,"restaurants-container"],[3,"restaurant","click",4,"ngFor","ngForOf"],[3,"click","restaurant"]],template:function(n,a){n&1&&(j(0,"div",0)(1,"mat-toolbar",1)(2,"span"),et(3,"Restaurants"),D(),pt(4,"span",2)(5,"img",3),D(),j(6,"div",4),ht(7,Dn,1,1,"app-restaurant",5),$e(8,"async"),D()()),n&2&&(V(7),K("ngForOf",qe(8,1,a.restaurants$)))},dependencies:[kt,St,Qe,We,ni,ii,oi,Ri],styles:[".restaurants-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding:16px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"],changeDetection:0});let e=t;return e})();var Fi=[{path:"",component:Mi},{path:"menu/:id",loadComponent:()=>import("./chunk-4W7VSRRF.js").then(e=>e.MenuComponent)},{path:"menu/:menuId/items/:name",loadComponent:()=>import("./chunk-JIYRHFMD.js").then(e=>e.ItemsComponent)},{path:"cart",loadComponent:()=>import("./chunk-YNE2OCHI.js").then(e=>e.CartComponent)},{path:"**",redirectTo:""}];var On="@",jn=(()=>{let t=class t{constructor(i,n,a,r,s){this.doc=i,this.delegate=n,this.zone=a,this.animationType=r,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=T(Le,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-SDZDB7OL.js").then(n=>n)).catch(n=>{throw new Oe(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:a})=>{this._engine=n(this.animationType,this.doc);let r=new a(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(i,n){let a=this.delegate.createRenderer(i,n);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let r=new oe(a);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let y=s.createRenderer(i,n);r.use(y),this.scheduler?.notify(9)}).catch(s=>{r.use(a)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(n){Be()},t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})(),oe=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let o of this.replay)o(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,o){return this.delegate.createElement(t,o)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,o){this.delegate.appendChild(t,o)}insertBefore(t,o,i,n){this.delegate.insertBefore(t,o,i,n)}removeChild(t,o,i){this.delegate.removeChild(t,o,i)}selectRootElement(t,o){return this.delegate.selectRootElement(t,o)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,o,i,n){this.delegate.setAttribute(t,o,i,n)}removeAttribute(t,o,i){this.delegate.removeAttribute(t,o,i)}addClass(t,o){this.delegate.addClass(t,o)}removeClass(t,o){this.delegate.removeClass(t,o)}setStyle(t,o,i,n){this.delegate.setStyle(t,o,i,n)}removeStyle(t,o,i){this.delegate.removeStyle(t,o,i)}setProperty(t,o,i){this.shouldReplay(o)&&this.replay.push(n=>n.setProperty(t,o,i)),this.delegate.setProperty(t,o,i)}setValue(t,o){this.delegate.setValue(t,o)}listen(t,o,i){return this.shouldReplay(o)&&this.replay.push(n=>n.listen(t,o,i)),this.delegate.listen(t,o,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(On)}};function Ti(e="animations"){return xt("NgAsyncAnimations"),Y([{provide:wt,useFactory:(t,o,i)=>new jn(t,o,i,e),deps:[Et,At,Q]},{provide:J,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Pn=(()=>{let t=class t extends Bt{constructor(i,n,a){super(i,n,a)}ngOnDestroy(){this.flush()}};t.\u0275fac=function(n){return new(n||t)(l(Et),l(ft),l(Nt))},t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})();function Nn(){return new Ei}function Bn(e,t,o){return new ki(e,t,o)}var Di=[{provide:Nt,useFactory:Nn},{provide:Bt,useClass:Pn},{provide:wt,useFactory:Bn,deps:[At,Bt,Q]}],Ln=[{provide:ft,useFactory:()=>new Si},{provide:J,useValue:"BrowserAnimations"},...Di],tr=[{provide:ft,useClass:xi},{provide:J,useValue:"NoopAnimations"},...Di];function Oi(){return xt("NgEagerAnimations"),[...Ln]}var zn={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Lt="__@ngrx/effects_create__";function $(e,t={}){let o=t.functional?e:e(),i=v(v({},zn),t);return Object.defineProperty(o,Lt,{value:i}),o}function Hn(e){return Object.getOwnPropertyNames(e).filter(i=>e[i]&&e[i].hasOwnProperty(Lt)?e[i][Lt].hasOwnProperty("dispatch"):!1).map(i=>{let n=e[i][Lt];return v({propertyName:i},n)})}function Vn(e){return Hn(e)}function ji(e){return Object.getPrototypeOf(e)}function $n(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Pi(e){return typeof e=="function"}function qn(e){return e.filter(Pi)}function Gn(e,t,o){let i=ji(e),a=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,r=Vn(e).map(({propertyName:s,dispatch:y,useEffectsErrorHandler:h})=>{let d=typeof e[s]=="function"?e[s]():e[s],c=h?o(d,t):d;return y===!1?c.pipe(ke()):c.pipe(Me()).pipe(C(w=>({effect:e[s],notification:w,propertyName:s,sourceName:a,sourceInstance:e})))});return X(...r)}var Un=10;function Ni(e,t,o=Un){return e.pipe(k(i=>(t&&t.handleError(i),o<=1?e:Ni(e,t,o-1))))}var q=(()=>{let t=class t extends ct{constructor(i){super(),i&&(this.source=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}};t.\u0275fac=function(n){return new(n||t)(l(Ft))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function G(...e){return B(t=>e.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var ur=new x("@ngrx/effects Internal Root Guard"),fr=new x("@ngrx/effects User Provided Effects"),gr=new x("@ngrx/effects Internal Root Effects"),vr=new x("@ngrx/effects Internal Root Effects Instances"),_r=new x("@ngrx/effects Internal Feature Effects"),yr=new x("@ngrx/effects Internal Feature Effects Instance Groups"),Qn=new x("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Ni}),Kn="@ngrx/effects/init",Wn=M(Kn);function Zn(e,t){if(e.notification.kind==="N"){let o=e.notification.value;!Xn(o)&&t.handleError(new Error(`Effect ${Yn(e)} dispatched an invalid action: ${Jn(o)}`))}}function Xn(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Yn({propertyName:e,sourceInstance:t,sourceName:o}){let i=typeof t[e]=="function";return!!o?`"${o}.${String(e)}${i?"()":""}"`:`"${String(e)}()"`}function Jn(e){try{return JSON.stringify(e)}catch{return e}}var to="ngrxOnIdentifyEffects";function eo(e){return ae(e,to)}var io="ngrxOnRunEffects";function no(e){return ae(e,io)}var oo="ngrxOnInitEffects";function ao(e){return ae(e,oo)}function ae(e,t){return e&&t in e&&typeof e[t]=="function"}var Bi=(()=>{let t=class t extends be{constructor(i,n){super(),this.errorHandler=i,this.effectsErrorHandler=n}addEffects(i){this.next(i)}toActions(){return this.pipe(Yt(i=>$n(i)?ji(i):i),L(i=>i.pipe(Yt(ro))),L(i=>{let n=i.pipe(Re(r=>co(this.errorHandler,this.effectsErrorHandler)(r)),C(r=>(Zn(r,this.errorHandler),r.notification)),B(r=>r.kind==="N"&&r.value!=null),Ae()),a=i.pipe(yt(1),B(ao),C(r=>r.ngrxOnInitEffects()));return X(n,a)}))}};t.\u0275fac=function(n){return new(n||t)(l(Ct),l(Qn))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ro(e){return eo(e)?e.ngrxOnIdentifyEffects():""}function co(e,t){return o=>{let i=Gn(o,e,t);return no(o)?o.ngrxOnRunEffects(i):i}}var so=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(i,n){this.effectSources=i,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(l(Bi),l(A))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Li(...e){let t=e.flat(),o=qn(t);return Y([o,{provide:je,multi:!0,useValue:()=>{T(li),T(hi,{optional:!0});let i=T(so),n=T(Bi),a=!i.isStarted;a&&i.start();for(let r of t){let s=Pi(r)?T(r):r;n.addEffects(s)}a&&T(A).dispatch(Wn())}}])}var vt="PERFORM_ACTION",lo="REFRESH",Gi="RESET",Ui="ROLLBACK",Qi="COMMIT",Ki="SWEEP",Wi="TOGGLE_ACTION",ho="SET_ACTIONS_ACTIVE",Zi="JUMP_TO_STATE",Xi="JUMP_TO_ACTION",_e="IMPORT_STATE",Yi="LOCK_CHANGES",Ji="PAUSE_RECORDING",at=class{constructor(t,o){if(this.action=t,this.timestamp=o,this.type=vt,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},re=class{constructor(){this.type=lo}},ce=class{constructor(t){this.timestamp=t,this.type=Gi}},se=class{constructor(t){this.timestamp=t,this.type=Ui}},de=class{constructor(t){this.timestamp=t,this.type=Qi}},le=class{constructor(){this.type=Ki}},he=class{constructor(t){this.id=t,this.type=Wi}};var pe=class{constructor(t){this.index=t,this.type=Zi}},me=class{constructor(t){this.actionId=t,this.type=Xi}},ue=class{constructor(t){this.nextLiftedState=t,this.type=_e}},fe=class{constructor(t){this.status=t,this.type=Yi}},ge=class{constructor(t){this.status=t,this.type=Ji}};var qt=new x("@ngrx/store-devtools Options"),zi=new x("@ngrx/store-devtools Initial Config");function tn(){return null}var po="NgRx Store DevTools";function mo(e){let t={maxAge:!1,monitor:tn,actionSanitizer:void 0,stateSanitizer:void 0,name:po,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},o=typeof e=="function"?e():e,i=o.logOnly?{pause:!0,export:!0,test:!0}:!1,n=o.features||i||t.features;n.import===!0&&(n.import="custom");let a=Object.assign({},t,{features:n},o);if(a.maxAge&&a.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${a.maxAge}`);return a}function Hi(e,t){return e.filter(o=>t.indexOf(o)<0)}function en(e){let{computedStates:t,currentStateIndex:o}=e;if(o>=t.length){let{state:n}=t[t.length-1];return n}let{state:i}=t[o];return i}function gt(e){return new at(e,+Date.now())}function uo(e,t){return Object.keys(t).reduce((o,i)=>{let n=Number(i);return o[n]=nn(e,t[n],n),o},{})}function nn(e,t,o){return b(v({},t),{action:e(t.action,o)})}function fo(e,t){return t.map((o,i)=>({state:on(e,o.state,i),error:o.error}))}function on(e,t,o){return e(t,o)}function an(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function go(e,t,o,i){let n=[],a={},r=[];return e.stagedActionIds.forEach((s,y)=>{let h=e.actionsById[s];h&&(y&&ye(e.computedStates[y],h,t,o,i)||(a[s]=h,n.push(s),r.push(e.computedStates[y])))}),b(v({},e),{stagedActionIds:n,actionsById:a,computedStates:r})}function ye(e,t,o,i,n){let a=o&&!o(e,t.action),r=i&&!t.action.type.match(i.map(y=>Vi(y)).join("|")),s=n&&t.action.type.match(n.map(y=>Vi(y)).join("|"));return a||r||s}function Vi(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rn(e){return{ngZone:e?T(Q):null,connectInZone:e}}var Gt=(()=>{let t=class t extends Mt{};t.\u0275fac=(()=>{let i;return function(a){return(i||(i=Jt(t)))(a||t)}})(),t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})(),Ht={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},ve=new x("@ngrx/store-devtools Redux Devtools Extension"),cn=(()=>{let t=class t{constructor(i,n,a){this.config=n,this.dispatcher=a,this.zoneConfig=rn(this.config.connectInZone),this.devtoolsExtension=i,this.createActionStreams()}notify(i,n){if(this.devtoolsExtension)if(i.type===vt){if(n.isLocked||n.isPaused)return;let a=en(n);if(an(this.config)&&ye(a,i,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let r=this.config.stateSanitizer?on(this.config.stateSanitizer,a,n.currentStateIndex):a,s=this.config.actionSanitizer?nn(this.config.actionSanitizer,i,n.nextActionId):i;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,r))}else{let a=b(v({},n),{stagedActionIds:n.stagedActionIds,actionsById:this.config.actionSanitizer?uo(this.config.actionSanitizer,n.actionsById):n.actionsById,computedStates:this.config.stateSanitizer?fo(this.config.stateSanitizer,n.computedStates):n.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,a,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ct(i=>{let n=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=n,n.init(),n.subscribe(a=>i.next(a)),n.unsubscribe}):_t}createActionStreams(){let i=this.createChangesObservable().pipe(Te()),n=i.pipe(B(d=>d.type===Ht.START)),a=i.pipe(B(d=>d.type===Ht.STOP)),r=i.pipe(B(d=>d.type===Ht.DISPATCH),C(d=>this.unwrapAction(d.payload)),Xt(d=>d.type===_e?this.dispatcher.pipe(B(c=>c.type===ut),Ee(1e3),Se(1e3),C(()=>d),k(()=>S(d)),yt(1)):S(d))),y=i.pipe(B(d=>d.type===Ht.ACTION),C(d=>this.unwrapAction(d.payload))).pipe(bt(a)),h=r.pipe(bt(a));this.start$=n.pipe(bt(a)),this.actions$=this.start$.pipe(st(()=>y)),this.liftedActions$=this.start$.pipe(st(()=>h))}unwrapAction(i){return typeof i=="string"?(0,eval)(`(${i})`):i}getExtensionConfig(i){let n={name:i.name,features:i.features,serialize:i.serialize,autoPause:i.autoPause??!1,trace:i.trace??!1,traceLimit:i.traceLimit??75};return i.maxAge!==!1&&(n.maxAge=i.maxAge),n}sendToReduxDevtools(i){try{i()}catch(n){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",n)}}};t.\u0275fac=function(n){return new(n||t)(l(ve),l(qt),l(Gt))},t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})(),$t={type:mt},vo="@ngrx/store-devtools/recompute",_o={type:vo};function sn(e,t,o,i,n){if(i)return{state:o,error:"Interrupted by an error up the chain"};let a=o,r;try{a=e(o,t)}catch(s){r=s.toString(),n.handleError(s)}return{state:a,error:r}}function Vt(e,t,o,i,n,a,r,s,y){if(t>=e.length&&e.length===a.length)return e;let h=e.slice(0,t),d=a.length-(y?1:0);for(let c=t;c<d;c++){let u=a[c],w=n[u].action,m=h[c-1],p=m?m.state:i,P=m?m.error:void 0,N=r.indexOf(u)>-1?m:sn(o,w,p,P,s);h.push(N)}return y&&h.push(e[e.length-1]),h}function yo(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:gt($t)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function bo(e,t,o,i,n={}){return a=>(r,s)=>{let{monitorState:y,actionsById:h,nextActionId:d,stagedActionIds:c,skippedActionIds:u,committedState:w,currentStateIndex:m,computedStates:p,isLocked:P,isPaused:E}=r||t;r||(h=Object.create(h));function N(I){let g=I,H=c.slice(1,g+1);for(let O=0;O<H.length;O++)if(p[O+1].error){g=O,H=c.slice(1,g+1);break}else delete h[H[O]];u=u.filter(O=>H.indexOf(O)===-1),c=[0,...c.slice(g+1)],w=p[g].state,p=p.slice(g),m=m>g?m-g:0}function Z(){h={0:gt($t)},d=1,c=[0],u=[],w=p[m].state,m=0,p=[]}let f=0;switch(s.type){case Yi:{P=s.status,f=1/0;break}case Ji:{E=s.status,E?(c=[...c,d],h[d]=new at({type:"@ngrx/devtools/pause"},+Date.now()),d++,f=c.length-1,p=p.concat(p[p.length-1]),m===c.length-2&&m++,f=1/0):Z();break}case Gi:{h={0:gt($t)},d=1,c=[0],u=[],w=e,m=0,p=[];break}case Qi:{Z();break}case Ui:{h={0:gt($t)},d=1,c=[0],u=[],m=0,p=[];break}case Wi:{let{id:I}=s;u.indexOf(I)===-1?u=[I,...u]:u=u.filter(H=>H!==I),f=c.indexOf(I);break}case ho:{let{start:I,end:g,active:H}=s,O=[];for(let Zt=I;Zt<g;Zt++)O.push(Zt);H?u=Hi(u,O):u=[...u,...O],f=c.indexOf(I);break}case Zi:{m=s.index,f=1/0;break}case Xi:{let I=c.indexOf(s.actionId);I!==-1&&(m=I),f=1/0;break}case Ki:{c=Hi(c,u),u=[],m=Math.min(m,c.length-1);break}case vt:{if(P)return r||t;if(E||r&&ye(r.computedStates[m],s,n.predicate,n.actionsSafelist,n.actionsBlocklist)){let g=p[p.length-1];p=[...p.slice(0,-1),sn(a,s.action,g.state,g.error,o)],f=1/0;break}n.maxAge&&c.length===n.maxAge&&N(1),m===c.length-1&&m++;let I=d++;h[I]=s,c=[...c,I],f=c.length-1;break}case _e:{({monitorState:y,actionsById:h,nextActionId:d,stagedActionIds:c,skippedActionIds:u,committedState:w,currentStateIndex:m,computedStates:p,isLocked:P,isPaused:E}=s.nextLiftedState);break}case mt:{f=0,n.maxAge&&c.length>n.maxAge&&(p=Vt(p,f,a,w,h,c,u,o,E),N(c.length-n.maxAge),f=1/0);break}case ut:{if(p.filter(g=>g.error).length>0)f=0,n.maxAge&&c.length>n.maxAge&&(p=Vt(p,f,a,w,h,c,u,o,E),N(c.length-n.maxAge),f=1/0);else{if(!E&&!P){m===c.length-1&&m++;let g=d++;h[g]=new at(s,+Date.now()),c=[...c,g],f=c.length-1,p=Vt(p,f,a,w,h,c,u,o,E)}p=p.map(g=>b(v({},g),{state:a(g.state,_o)})),m=c.length-1,n.maxAge&&c.length>n.maxAge&&N(c.length-n.maxAge),f=1/0}break}default:{f=1/0;break}}return p=Vt(p,f,a,w,h,c,u,o,E),y=i(y,s),{monitorState:y,actionsById:h,nextActionId:d,stagedActionIds:c,skippedActionIds:u,committedState:w,currentStateIndex:m,computedStates:p,isLocked:P,isPaused:E}}}var $i=(()=>{let t=class t{constructor(i,n,a,r,s,y,h,d){let c=yo(h,d.monitor),u=bo(h,c,y,d.monitor,d),w=X(X(n.asObservable().pipe(De(1)),r.actions$).pipe(C(gt)),i,r.liftedActions$).pipe(we(Ce)),m=a.pipe(C(u)),p=rn(d.connectInZone),P=new Ie(1);this.liftedStateSubscription=w.pipe(It(m),qi(p),Fe(({state:Z},[f,I])=>{let g=I(Z,f);return f.type!==vt&&an(d)&&(g=go(g,d.predicate,d.actionsSafelist,d.actionsBlocklist)),r.notify(f,g),{state:g,action:f}},{state:c,action:null})).subscribe(({state:Z,action:f})=>{if(P.next(Z),f.type===vt){let I=f.action;s.next(I)}}),this.extensionStartSubscription=r.start$.pipe(qi(p)).subscribe(()=>{this.refresh()});let E=P.asObservable(),N=E.pipe(C(en));Object.defineProperty(N,"state",{value:si(N,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=i,this.liftedState=E,this.state=N}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(i){this.dispatcher.next(i)}next(i){this.dispatcher.next(i)}error(i){}complete(){}performAction(i){this.dispatch(new at(i,+Date.now()))}refresh(){this.dispatch(new re)}reset(){this.dispatch(new ce(+Date.now()))}rollback(){this.dispatch(new se(+Date.now()))}commit(){this.dispatch(new de(+Date.now()))}sweep(){this.dispatch(new le)}toggleAction(i){this.dispatch(new he(i))}jumpToAction(i){this.dispatch(new me(i))}jumpToState(i){this.dispatch(new pe(i))}importState(i){this.dispatch(new ue(i))}lockChanges(i){this.dispatch(new fe(i))}pauseRecording(i){this.dispatch(new ge(i))}};t.\u0275fac=function(n){return new(n||t)(l(Gt),l(Mt),l(pi),l(cn),l(Ft),l(Ct),l(di),l(qt))},t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})();function qi({ngZone:e,connectInZone:t}){return o=>t?new ct(i=>o.subscribe({next:n=>e.run(()=>i.next(n)),error:n=>e.run(()=>i.error(n)),complete:()=>e.run(()=>i.complete())})):o}var Io=new x("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Co(e,t){return!!e||t.monitor!==tn}function wo(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function dn(e={}){return Y([cn,Gt,$i,{provide:zi,useValue:e},{provide:Io,deps:[ve,qt],useFactory:Co},{provide:ve,useFactory:wo},{provide:qt,deps:[zi],useFactory:mo},{provide:ui,deps:[$i],useFactory:xo},{provide:mi,useExisting:Gt}])}function xo(e){return e.state}var rt=M("[Restaurant] Load Restaurants"),Ut=M("[Restaurant] Load Restaurants Success",z()),Qt=M("[Restaurant] Load Restaurants Failure",z()),Tr=M("[Menu] Load Items",z()),Dr=M("[Menu] Load Items Success",z()),Or=M("[Menu] Load Items Failure",z());var Eo={restaurants:[],loading:!1,error:null},hn=nt(Eo,F(rt,e=>b(v({},e),{loading:!0})),F(Ut,(e,{restaurants:t})=>b(v({},e),{loading:!1,restaurants:t})),F(Qt,(e,{error:t})=>b(v({},e),{loading:!1,error:t})));var mn=(()=>{let t=class t{constructor(i){this.http=i,this.baseUrl="https://api.mocki.io/v2/aqprm7yv/restaurants"}getRestaurants(){return this.http.get(this.baseUrl)}};t.\u0275fac=function(n){return new(n||t)(l(it))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var un=(()=>{let t=class t{constructor(i,n){this.actions$=i,this.restaurantService=n,this.loadRestaurants$=$(()=>this.actions$.pipe(G(rt),L(()=>this.restaurantService.getRestaurants().pipe(C(a=>Ut({restaurants:a})),k(a=>S(Qt({error:a})))))))}};t.\u0275fac=function(n){return new(n||t)(l(q),l(mn))},t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})();var fn=(()=>{let t=class t{constructor(i){this.http=i,this.baseUrl="https://api.mocki.io/v2/aqprm7yv/menus"}getItems(i){return this.http.get(`${this.baseUrl}/${i}`)}};t.\u0275fac=function(n){return new(n||t)(l(it))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var gn=(()=>{let t=class t{constructor(i,n){this.actions$=i,this.itemService=n,this.loadItems$=$(()=>this.actions$.pipe(G(Tt),L(a=>this.itemService.getItems(a.menuId).pipe(C(r=>Dt({items:r})),k(r=>S(Ot({error:r})))))))}};t.\u0275fac=function(n){return new(n||t)(l(q),l(fn))},t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})();var Ro={items:[],loading:!1,error:null},vn=nt(Ro,F(Tt,e=>b(v({},e),{loading:!0,error:null})),F(Dt,(e,{items:t})=>b(v({},e),{items:t,loading:!1})),F(Ot,(e,{error:t})=>b(v({},e),{error:t,loading:!1})));var _n=(()=>{let t=class t{constructor(i,n){this.http=i,this.store=n,this.baseUrl="https://api.mocki.io/v2/aqprm7yv/order/"}postCart(i,n){let a=`${this.baseUrl}${i}`;return this.http.post(a,n,{responseType:"text"}).pipe(C(r=>{try{let s=r.replace(/(\w+):/g,'"$1":').replace(/'/g,'"');return JSON.parse(s)}catch{return r}}),k(this.handleError))}handleError(i){let n="Unknown error!";return i.error instanceof ErrorEvent?n=`Error: ${i.error.message}`:n=`Error Code: ${i.status}
Message: ${i.message}`,xe(n)}};t.\u0275fac=function(n){return new(n||t)(l(it),l(A))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var yn=(()=>{let t=class t{constructor(i,n,a,r,s){this.actions$=i,this.cartService=n,this.store=a,this.router=r,this.snackBar=s,this.postCart$=$(()=>this.actions$.pipe(G(Ii),It(this.store.select(Ci)),L(([y,h])=>h.length>0?this.cartService.postCart(1,h).pipe(C(d=>(this.router.navigate(["/"]).then(()=>{this.snackBar.open("Order placed successfully!","Close",{duration:3e3})}),jt())),k(d=>(console.error("Post cart error:",d),S(Pt({error:d}))))):_t)))}};t.\u0275fac=function(n){return new(n||t)(l(q),l(_n),l(A),l(Rt),l(wi))},t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})();var Fo={cartItems:[],totalCartItems:0,error:null,order:[],totalAmount:0},bn=nt(Fo,F(yi,(e,{cartItem:t})=>{let o=e.cartItems.find(r=>r.item.id===t.item.id),i;o?i=e.cartItems.map(r=>r.item.id===t.item.id?b(v({},r),{quantity:(r.quantity??0)+(t.quantity??0)}):r):i=[...e.cartItems,b(v({},t),{quantity:t.quantity??1})];let n=i.map(r=>({itemId:r.item.id??0,quantity:r.quantity})),a=i.reduce((r,s)=>r+(s?.item?.price??0)*(s.quantity??1),0);return b(v({},e),{cartItems:i,totalCartItems:e.totalCartItems+1,order:n,totalAmount:a})}),F(bi,(e,{cartItem:t})=>{let o=e.cartItems.map(a=>a.item.id===t.item.id?b(v({},a),{quantity:(a.quantity??0)-1}):a).filter(a=>a.quantity>0),i=o.map(a=>({itemId:a.item.id??0,quantity:a.quantity})),n=o.reduce((a,r)=>a+(r?.item?.price??0)*(r.quantity??1),0);return b(v({},e),{cartItems:o,totalCartItems:e.totalCartItems-1,order:i,totalAmount:n})}),F(jt,e=>b(v({},e),{cartItems:[],error:null,totalCartItems:0,order:[],totalAmount:0})),F(Pt,(e,{error:t})=>b(v({},e),{error:t})));var Kt=M("[Hydration] Hydrate"),In=M("[Hydration] Hydrate Success",z()),Wt=M("[Hydration] Hydrate Failure",z());var Cn=(()=>{let t=class t{constructor(i,n){this.actions$=i,this.store=n,this.hydrate$=$(()=>this.actions$.pipe(G(Kt),st(()=>{try{let a=localStorage.getItem("cartState");if(a){let r=JSON.parse(a);return S(In({state:r}))}else return S(Wt({error:"No state to hydrate"}))}catch(a){return S(Wt({error:a}))}}),k(a=>S(Wt({error:a})))))}};t.\u0275fac=function(n){return new(n||t)(l(q),l(A))},t.\u0275prov=_({token:t,factory:t.\u0275fac});let e=t;return e})();function wn(e){return(t,o)=>{let i=e(t,o);return typeof window<"u"&&localStorage.setItem("cartState",JSON.stringify(i.cart)),i}}function xn(e){return(t,o)=>{if((o.type===mt||o.type===ut)&&typeof window<"u"){let i=localStorage.getItem("cartState");if(i)return b(v({},t),{cart:JSON.parse(i)})}return e(t,o)}}var En={providers:[Ge({eventCoalescing:!0}),Je(Fi),Xe(),Ti(),Ke(),Oi(),fi({restaurant:hn,items:vn,cart:bn},{metaReducers:[wn,xn]}),Li([un,gn,yn,Cn]),dn({maxAge:25,logOnly:!1})]};var Sn=(()=>{let t=class t{constructor(i){this.store=i,this.title="dyne",this.store.dispatch(rt()),this.store.dispatch(Kt())}};t.\u0275fac=function(n){return new(n||t)(tt(A))},t.\u0275cmp=U({type:t,selectors:[["app-root"]],standalone:!0,features:[W],decls:2,vars:0,consts:[[1,"app-container"]],template:function(n,a){n&1&&(j(0,"div",0),pt(1,"router-outlet"),D())},dependencies:[Ye],styles:[".app-container[_ngcontent-%COMP%]{background:linear-gradient(180.02deg,#fff 34.67%,#999 99.98%);min-height:100vh;flex:1;text-align:center;display:flex;flex-direction:column}"]});let e=t;return e})();Ze(Sn,En).catch(e=>console.error(e));

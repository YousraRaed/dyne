import{b as tt}from"./chunk-2MY7RGQ6.js";import{b as N,d as U,e as J}from"./chunk-SNGUZNMA.js";import{b as K,c as Q,d as W,e as X,h as Y,k as Z}from"./chunk-O62AUNJF.js";import{B as j,C as R,D as C,E as A,F as V,G as q,H as L,I as G,W as H,c as $}from"./chunk-E55XPUGU.js";import"./chunk-WXI33M2S.js";import{Ab as s,Bb as g,Da as I,Db as _,Eb as b,Fb as T,La as P,Na as m,Oa as y,_b as z,ac as F,db as k,dc as B,ec as D,fb as p,fc as h,jb as n,kb as o,lb as l,ma as u,mb as S,ob as d,qb as O,tb as E,va as M,wa as v,yb as c,zb as w}from"./chunk-SJ7RQTWP.js";var et=(()=>{let e=class e{constructor(){this.addItem=new I,this.removeItem=new I}handleAdd(){this.item&&this.addItem.emit(this.item.item)}handleRemove(){this.item?.item&&this.removeItem.emit(this.item.item)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["app-cart-item"]],inputs:{item:"item"},outputs:{addItem:"addItem",removeItem:"removeItem"},standalone:!0,features:[g],decls:19,vars:5,consts:[[1,"item-card"],[1,"display"],["mat-card-image","",3,"src","alt"],[1,"space"],[1,"price"],[3,"click"],["src","./assets/add.svg","alt","add",1,"add-icon"],[1,"quantity"],["src","./assets/remove.svg","alt","remove",1,"remove-icon"]],template:function(i,t){i&1&&(n(0,"mat-card",0)(1,"div",1)(2,"div"),l(3,"img",2),o(),n(4,"div")(5,"mat-card-content")(6,"h2"),c(7),o(),l(8,"div",3),n(9,"p",4),c(10),o()()(),n(11,"div")(12,"mat-card-actions")(13,"div",5),d("click",function(){return t.handleAdd()}),l(14,"img",6),o(),n(15,"div",7),c(16),o(),n(17,"div",5),d("click",function(){return t.handleRemove()}),l(18,"img",8),o()()()()()),i&2&&(m(3),E("alt",t.item==null||t.item.item==null?null:t.item.item.thumbnail),p("src",t.item==null||t.item.item==null?null:t.item.item.thumbnail,P),m(4),w(t.item==null||t.item.item==null?null:t.item.item.name),m(3),s("",t.item==null||t.item.item==null?null:t.item.item.price," EGP"),m(6),s(" ",t.item==null?null:t.item.quantity," "))},dependencies:[h,G,A,q,V,L,K,C],styles:[".item-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:space-between;color:#fff;background:#000000d6}.item-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter-Regular;font-size:16px;line-height:19.36px;text-align:left}.item-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-family:Inter-Regular;font-size:11px;line-height:13.31px;text-align:left}.item-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-family:Inter-Regular;font-size:16px;line-height:19.36px;text-align:left}.item-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:150px;object-fit:cover}.item-card[_ngcontent-%COMP%]   .unavailable-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;color:#fff;display:flex;align-items:center;padding-left:62px;font-size:1.2em;pointer-events:none;font-family:Inter-Meduim;font-size:12px;line-height:14.52px;text-align:left}.item-card[_ngcontent-%COMP%]{box-shadow:0 4px 4px #000000d6}.display[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;justify-content:space-between}mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}.quantity[_ngcontent-%COMP%]{padding:25px 0;font-family:Inter-Regular;font-size:16px;line-height:19.36px;text-align:left}.space[_ngcontent-%COMP%]{padding:17px}.mat-mdc-card-content[_ngcontent-%COMP%]:last-child{padding-bottom:0}.mat-mdc-card-content[_ngcontent-%COMP%]:first-child{padding-top:0}"],changeDetection:0});let r=e;return r})();function nt(r,e){if(r&1){let f=S();n(0,"app-cart-item",11),d("addItem",function(i){M(f);let t=O();return v(t.addToCart(i))})("removeItem",function(i){M(f);let t=O();return v(t.removeFromCart(i))}),o()}if(r&2){let f=e.$implicit;p("item",f)}}var St=(()=>{let e=class e{constructor(a,i){this.store=a,this.location=i}ngOnInit(){this.cartItems$=this.store.select(Y),this.amount$=this.store.select(Z),this.loading$=this.store.select(U),this.error$=this.store.select(J)}addToCart(a){a.id&&this.store.dispatch(Q({cartItem:{item:a,quantity:1}}))}removeFromCart(a){a.id&&this.store.dispatch(W({cartItem:{item:a}}))}goBack(){this.location.back()}checkout(){this.store.dispatch(X())}};e.\u0275fac=function(i){return new(i||e)(y(H),y(z))},e.\u0275cmp=u({type:e,selectors:[["app-cart"]],standalone:!0,features:[g],decls:17,vars:9,consts:[["color","primary"],[3,"click"],["src","./assets/back.svg","alt","back",1,"back-icon"],[1,"title"],[1,"spacer"],[1,"items"],[3,"item","addItem","removeItem",4,"ngFor","ngForOf"],[1,"checkout-container"],["mat-raised-button","","color","primary",3,"click"],[1,"order"],[1,"amount"],[3,"addItem","removeItem","item"]],template:function(i,t){i&1&&(n(0,"mat-toolbar",0)(1,"div",1),d("click",function(){return t.goBack()}),l(2,"img",2),o(),n(3,"span",3),c(4,"Cart"),o(),l(5,"span",4),o(),n(6,"div",5),k(7,nt,1,1,"app-cart-item",6),_(8,"async"),o(),n(9,"div",7)(10,"button",8),d("click",function(){return t.checkout()}),n(11,"div",9),c(12,"Order"),o(),n(13,"div",10),c(14),_(15,"async"),_(16,"number"),o()()()),i&2&&(m(7),p("ngForOf",b(8,2,t.cartItems$)),m(7),s("",T(16,6,b(15,4,t.amount$),"1.0-2")," Egp"))},dependencies:[h,F,B,D,$,R,j,C,N,et,tt],styles:[".items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;padding:10px 10px 125px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.back-icon[_ngcontent-%COMP%]{padding-right:22px;width:24px;height:24px}.title[_ngcontent-%COMP%]{font-family:Inter-Semi-Bold;font-size:20px;line-height:24.2px;text-align:left}button[_ngcontent-%COMP%]{border:0;background-color:transparent}.checkout-container[_ngcontent-%COMP%]{position:fixed;bottom:0;width:calc(100% - 66px);padding:16px;background:#fff;box-shadow:0 -2px 10px #0000001a;text-align:center;z-index:2;margin:40px 16px;background-color:#4a4a4a;border-radius:5px}.checkout-container[_ngcontent-%COMP%]   .checkout[_ngcontent-%COMP%]{display:flex}button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.order[_ngcontent-%COMP%]{font-family:Inter-Meduim;font-size:16px;line-height:19.36px;text-align:left;color:#fff}.amount[_ngcontent-%COMP%]{font-family:Inter-Meduim;font-size:18px;line-height:21.78px;text-align:left;color:#fff}"],changeDetection:0});let r=e;return r})();export{St as CartComponent};
